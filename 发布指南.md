# 📦 Pintree 书签导出器 - GitHub Release 发布指南

## 🎯 自动化发布流程

我已经为您设置了完整的GitHub自动化发布流程，包括：

### ✨ 功能特性
- 🤖 **自动构建**: 推送标签后自动构建扩展
- 📦 **自动打包**: 生成可安装的ZIP文件
- 📝 **自动发布说明**: 生成详细的Release Notes
- 🔗 **自动上传**: 将扩展文件上传到Release页面
- 🏷️ **版本管理**: 基于package.json版本号自动创建标签

## 🚀 发布步骤

### 方法一：使用发布脚本（推荐）

#### Windows用户：
```powershell
# 执行发布脚本
pnpm run release:win
```

#### Linux/Mac用户：
```bash
# 执行发布脚本
pnpm run release
```

### 方法二：手动发布

1. **更新版本号**
   ```bash
   # 编辑 package.json 中的 version 字段
   # 例如：从 "1.0.0" 改为 "1.1.0"
   ```

2. **提交所有更改**
   ```bash
   git add .
   git commit -m "feat: 发布 v1.1.0 版本"
   git push origin main
   ```

3. **创建并推送标签**
   ```bash
   git tag -a v1.1.0 -m "Release v1.1.0"
   git push origin v1.1.0
   ```

## 📋 发布流程详解

### 1. 触发条件
- 推送以 `v` 开头的Git标签（如 `v1.0.0`, `v1.1.0`）
- 手动触发（在GitHub Actions页面）

### 2. 自动执行步骤
```yaml
1. 检出代码
2. 设置Node.js环境
3. 安装pnpm包管理器
4. 缓存依赖包
5. 安装项目依赖
6. 构建扩展 (pnpm build)
7. 打包扩展 (pnpm package)
8. 生成发布说明
9. 创建GitHub Release
10. 上传扩展ZIP文件
```

### 3. 生成的文件
- **扩展文件**: `pintree-bookmarks-exporter-v{version}.zip`
- **发布说明**: 包含功能介绍、技术特性、安装方法等

## 📄 Release Notes 内容

自动生成的发布说明包含：

### ✨ 主要功能
- 智能图标获取和多层级策略
- 质量分级系统
- 特殊网站优化
- 离线支持和智能缓存

### 🔧 技术特性
- 支持多种图标格式
- 错误处理机制
- 现代化界面设计

### 📊 性能提升数据
- 图标清晰度对比
- 成功率提升统计
- 支持的网站类型

### 🎯 使用场景
- 适用的具体场景说明

## 🔍 发布状态监控

### 查看构建状态
1. 访问：`https://github.com/your-username/your-repo/actions`
2. 找到对应的工作流运行记录
3. 查看详细的构建日志

### 发布成功标志
- ✅ 所有构建步骤都显示绿色对勾
- ✅ Release页面出现新版本
- ✅ ZIP文件成功上传

## 📦 用户下载和安装

### 下载地址
用户可以从以下地址下载：
```
https://github.com/your-username/your-repo/releases/latest
```

### 安装步骤
1. 下载 `pintree-bookmarks-exporter-v{version}.zip`
2. 解压ZIP文件
3. 打开Chrome扩展管理页面 (`chrome://extensions/`)
4. 开启"开发者模式"
5. 点击"加载已解压的扩展程序"
6. 选择解压后的文件夹

## 🛠️ 故障排除

### 常见问题

**Q: 构建失败怎么办？**
A: 检查GitHub Actions日志，通常是依赖安装或构建命令问题

**Q: 标签已存在错误**
A: 删除本地和远程标签后重新创建
```bash
git tag -d v1.0.0
git push origin :refs/tags/v1.0.0
```

**Q: 权限错误**
A: 确保仓库设置中启用了Actions权限

### 调试步骤
1. 检查package.json版本号是否正确
2. 确认所有更改都已提交
3. 验证Git标签格式（必须以v开头）
4. 查看GitHub Actions运行日志

## 🔄 版本号规范

建议使用语义化版本号：
- **主版本号**: 不兼容的API修改
- **次版本号**: 向下兼容的功能性新增
- **修订号**: 向下兼容的问题修正

示例：
- `v1.0.0` - 首次发布
- `v1.1.0` - 新增功能
- `v1.1.1` - 修复bug
- `v2.0.0` - 重大更新

## 📈 发布最佳实践

### 发布前检查清单
- [ ] 所有功能都已测试
- [ ] 更新了版本号
- [ ] 提交了所有更改
- [ ] 本地构建成功
- [ ] 文档已更新

### 发布后验证
- [ ] Release页面显示正常
- [ ] ZIP文件可以下载
- [ ] 扩展可以正常安装
- [ ] 功能运行正常

---

**现在您可以使用 `pnpm run release:win` 命令一键发布新版本到GitHub Release！** 🎉